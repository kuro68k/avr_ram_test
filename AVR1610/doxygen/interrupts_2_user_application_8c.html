<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Xmega IEC60730 Class B Library: UserApplication.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="XMEGA-3D-block-diagram.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Xmega IEC60730 Class B Library
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('interrupts_2_user_application_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">interrupts/UserApplication.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>This in an demo application for the interrupt monitor. </p>
<p>This application sets up a periodic interrupt: a timer/counter (TC) overflow interrupt. Further, the application configures the interrupt monitor in order to check that the frequency of the interrupt is correct. Two switch interrupts are configured. The first one changes the frequency of the TC interrupt. The second one deactivates the interrupt in the monitor.</p>
<dl class="section user"><dt>Application note:</dt><dd>AVR1610: Guide to IEC60730 Class B compliance with XMEGA</dd></dl>
<dl class="section user"><dt>Documentation</dt><dd>For comprehensive code documentation, supported compilers, compiler settings and supported devices see readme.html</dd></dl>
<dl class="section author"><dt>Author:</dt><dd>Atmel Corporation: <a href="http://www.atmel.com">http://www.atmel.com</a> <br/>
 Support email: <a href="#" onclick="location.href='mai'+'lto:'+'avr'+'@a'+'tme'+'l.'+'com'; return false;">avr@a<span style="display: none;">.nosp@m.</span>tmel<span style="display: none;">.nosp@m.</span>.com</a></dd></dl>
<p>Copyright (C) 2012 Atmel Corporation. All rights reserved. </p>

<p>Definition in file <a class="el" href="interrupts_2_user_application_8c_source.html">interrupts/UserApplication.c</a>.</p>
</div><div class="textblock"><code>#include &quot;<a class="el" href="avr__compiler_8h_source.html">avr_compiler.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="classb__interrupt__monitor_8h_source.html">classb_interrupt_monitor.h</a>&quot;</code><br/>
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for interrupts/UserApplication.c:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="interrupts_2_user_application_8c__incl.png" border="0" usemap="#_user_application_8c" alt=""/></div>
<map name="_user_application_8c" id="_user_application_8c">
<area shape="rect" id="node3" href="avr__compiler_8h.html" title="Header file for compiler compatibility." alt="" coords="85,379,189,405"/><area shape="rect" id="node11" href="classb__interrupt__monitor_8h.html" title="This file contains settings and definitions for the interrupt monitor." alt="" coords="55,80,229,107"/><area shape="rect" id="node14" href="classb__rtc__common_8h.html" title="Settings for the RTC driver." alt="" coords="67,155,217,181"/><area shape="rect" id="node17" href="error__handler_8h.html" title="Macros and definitions for handling errors and other configurable actions." alt="" coords="175,304,283,331"/><area shape="rect" id="node20" href="classb__freq_8h.html" title="Settings and definitions for the CPU frequency test." alt="" coords="93,229,192,256"/></map>
</div>
</div>
<p><a href="interrupts_2_user_application_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="define-members"></a>
Macros</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Configuration parameters</div></td></tr>
<tr class="memitem:add15143015a5ec243a818c6b203b47c9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interrupts_2_user_application_8c.html#add15143015a5ec243a818c6b203b47c9">F_TC_INT</a>&#160;&#160;&#160;30</td></tr>
<tr class="memdesc:add15143015a5ec243a818c6b203b47c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frequency in Hz of the T/C interrupt.  <a href="#add15143015a5ec243a818c6b203b47c9"></a><br/></td></tr>
<tr class="memitem:af6f3a3ea9b0349945e9235b69ad28d11"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af6f3a3ea9b0349945e9235b69ad28d11"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interrupts_2_user_application_8c.html#af6f3a3ea9b0349945e9235b69ad28d11">TC_INT_TOL</a>&#160;&#160;&#160;15</td></tr>
<tr class="memdesc:af6f3a3ea9b0349945e9235b69ad28d11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tolerance for number of T/C interrupts (%). <br/></td></tr>
<tr class="memitem:a1dc7dd0e5176c2e257ebc23f8cb23336"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interrupts_2_user_application_8c.html#a1dc7dd0e5176c2e257ebc23f8cb23336">TC_PRESCALER</a>&#160;&#160;&#160;8</td></tr>
<tr class="memdesc:a1dc7dd0e5176c2e257ebc23f8cb23336"><td class="mdescLeft">&#160;</td><td class="mdescRight">TC prescaler.  <a href="#a1dc7dd0e5176c2e257ebc23f8cb23336"></a><br/></td></tr>
<tr class="memitem:af2ed4f0d8c667fae5b2a716230de769f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af2ed4f0d8c667fae5b2a716230de769f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interrupts_2_user_application_8c.html#af2ed4f0d8c667fae5b2a716230de769f">PER_CHANGE</a>&#160;&#160;&#160;4</td></tr>
<tr class="memdesc:af2ed4f0d8c667fae5b2a716230de769f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This multiplies the TC period in SW0 interrupt. <br/></td></tr>
<tr><td colspan="2"><div class="groupHeader">Internal parameters</div></td></tr>
<tr class="memitem:a0bd42180dc46f529280e14c9a1bf3572"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0bd42180dc46f529280e14c9a1bf3572"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interrupts_2_user_application_8c.html#a0bd42180dc46f529280e14c9a1bf3572">TC_INT_COUNT_REF</a>&#160;&#160;&#160;(uint32_t) ( ( (1e0L * F_TC_INT) * CLASSB_RTC_INT_PERIOD) / CLASSB_RTC_FREQ )</td></tr>
<tr class="memdesc:a0bd42180dc46f529280e14c9a1bf3572"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reference for number of TC interrupts. <br/></td></tr>
<tr class="memitem:acc1f7d9ba9b7cdddbbea5dcb54a3445c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acc1f7d9ba9b7cdddbbea5dcb54a3445c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interrupts_2_user_application_8c.html#acc1f7d9ba9b7cdddbbea5dcb54a3445c">TC_PRESCALER_gc</a>&#160;&#160;&#160;LABEL(TC_CLKSEL_DIV, <a class="el" href="interrupts_2_user_application_8c.html#a1dc7dd0e5176c2e257ebc23f8cb23336">TC_PRESCALER</a>, _gc)</td></tr>
<tr class="memdesc:acc1f7d9ba9b7cdddbbea5dcb54a3445c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Label for the TC prescaler group configuration. <br/></td></tr>
<tr class="memitem:af440c8d8b1adf79fbe4ccf14676316e5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interrupts_2_user_application_8c.html#af440c8d8b1adf79fbe4ccf14676316e5">TC_FREQ</a>&#160;&#160;&#160;(uint32_t) (<a class="el" href="group__freq__conf.html#ga43bafb28b29491ec7f871319b5a3b2f8">F_CPU</a>/<a class="el" href="interrupts_2_user_application_8c.html#a1dc7dd0e5176c2e257ebc23f8cb23336">TC_PRESCALER</a>)</td></tr>
<tr class="memdesc:af440c8d8b1adf79fbe4ccf14676316e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">TC frequency.  <a href="#af440c8d8b1adf79fbe4ccf14676316e5"></a><br/></td></tr>
<tr class="memitem:ad017acdd4024b7df5c910211fea5d28f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interrupts_2_user_application_8c.html#ad017acdd4024b7df5c910211fea5d28f">TC_PER</a>&#160;&#160;&#160;(uint32_t) (<a class="el" href="interrupts_2_user_application_8c.html#af440c8d8b1adf79fbe4ccf14676316e5">TC_FREQ</a> / <a class="el" href="interrupts_2_user_application_8c.html#add15143015a5ec243a818c6b203b47c9">F_TC_INT</a>)</td></tr>
<tr class="memdesc:ad017acdd4024b7df5c910211fea5d28f"><td class="mdescLeft">&#160;</td><td class="mdescRight">TC period.  <a href="#ad017acdd4024b7df5c910211fea5d28f"></a><br/></td></tr>
<tr><td colspan="2"><div class="groupHeader">Board configuration</div></td></tr>
<tr class="memitem:afc9565c547105e5535bd356fa93ae10b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afc9565c547105e5535bd356fa93ae10b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LEDPORT</b>&#160;&#160;&#160;PORTR</td></tr>
<tr class="memitem:a06397817ea0b87b45b499d8c817adadf"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a06397817ea0b87b45b499d8c817adadf"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SWITCHPORT0</b>&#160;&#160;&#160;PORTE</td></tr>
<tr class="memitem:a0f1f2ea3430549f7fa1d395705eb420e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0f1f2ea3430549f7fa1d395705eb420e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SWITCHPORT1</b>&#160;&#160;&#160;PORTF</td></tr>
<tr class="memitem:a7396fd7ec580057e8aff5c4624fe636a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7396fd7ec580057e8aff5c4624fe636a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SWITCH0_INT0_vect</b>&#160;&#160;&#160;PORTE_INT0_vect</td></tr>
<tr class="memitem:a02f9eba930cd19f4d27d3c1f99ab3135"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a02f9eba930cd19f4d27d3c1f99ab3135"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SWITCH1_INT0_vect</b>&#160;&#160;&#160;PORTF_INT0_vect</td></tr>
<tr class="memitem:ac13ffde154672e941c973a9bd76f9bf8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac13ffde154672e941c973a9bd76f9bf8"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>XPLAIN_PULLUP</b>&#160;&#160;&#160;0x00</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a591eeae6968fc4bdbbdf648583a2f7d1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a591eeae6968fc4bdbbdf648583a2f7d1"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interrupts_2_user_application_8c.html#a591eeae6968fc4bdbbdf648583a2f7d1">setup_led_switches_pmic</a> ()</td></tr>
<tr class="memdesc:a591eeae6968fc4bdbbdf648583a2f7d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup LEDs and buttons. <br/></td></tr>
<tr class="memitem:a57d31834ee640905f1ba1f768360f4be"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a57d31834ee640905f1ba1f768360f4be"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interrupts_2_user_application_8c.html#a57d31834ee640905f1ba1f768360f4be">setup_example_tc_interrupt</a> ()</td></tr>
<tr class="memdesc:a57d31834ee640905f1ba1f768360f4be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup TC interrupt ! ! This sets up the TC so that it generates an overflow interrupt periodically. ! This interrupt will be checked with the interrupt monitor. <br/></td></tr>
<tr class="memitem:afb86b282aa17d38312240df6087819db"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interrupts_2_user_application_8c.html#afb86b282aa17d38312240df6087819db">ISR</a> (SWITCH0_INT0_vect)</td></tr>
<tr class="memdesc:afb86b282aa17d38312240df6087819db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interrupt for SW0 press: change TC period.  <a href="#afb86b282aa17d38312240df6087819db"></a><br/></td></tr>
<tr class="memitem:a50668d92bbd78762e1442c21f5f0a54c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interrupts_2_user_application_8c.html#a50668d92bbd78762e1442c21f5f0a54c">ISR</a> (SWITCH1_INT0_vect)</td></tr>
<tr class="memdesc:a50668d92bbd78762e1442c21f5f0a54c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interrupt for SW1 press: disable TC interrupt monitoring.  <a href="#a50668d92bbd78762e1442c21f5f0a54c"></a><br/></td></tr>
<tr class="memitem:a924e0530acf32dec8097d00b9474b0fc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interrupts_2_user_application_8c.html#a924e0530acf32dec8097d00b9474b0fc">ISR</a> (TCD0_OVF_vect)</td></tr>
<tr class="memdesc:a924e0530acf32dec8097d00b9474b0fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">TC overflow interrupt.  <a href="#a924e0530acf32dec8097d00b9474b0fc"></a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Global variables</div></td></tr>
<tr class="memitem:gabd8069526e5340f2e8f831627ec6857c"><td class="memItemLeft" align="right" valign="top">NO_INIT volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__error__handler.html#gabd8069526e5340f2e8f831627ec6857c">classb_error</a></td></tr>
<tr class="memdesc:gabd8069526e5340f2e8f831627ec6857c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global error flag.  <a href="group__error__handler.html#gabd8069526e5340f2e8f831627ec6857c"></a><br/></td></tr>
</table>
<hr/><h2>Macro Definition Documentation</h2>
<a class="anchor" id="add15143015a5ec243a818c6b203b47c9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define F_TC_INT&#160;&#160;&#160;30</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frequency in Hz of the T/C interrupt. </p>
<p>This is used to compute the value written to the PER register. </p>

<p>Definition at line <a class="el" href="interrupts_2_user_application_8c_source.html#l00068">68</a> of file <a class="el" href="interrupts_2_user_application_8c_source.html">interrupts/UserApplication.c</a>.</p>

</div>
</div>
<a class="anchor" id="a1dc7dd0e5176c2e257ebc23f8cb23336"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TC_PRESCALER&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>TC prescaler. </p>
<p>The TC runs on the system clock scaled down by this parameter. Possible values are 1, 2, 4, 8, 64, 256 or 1024. </p>

<p>Definition at line <a class="el" href="interrupts_2_user_application_8c_source.html#l00078">78</a> of file <a class="el" href="interrupts_2_user_application_8c_source.html">interrupts/UserApplication.c</a>.</p>

</div>
</div>
<a class="anchor" id="af440c8d8b1adf79fbe4ccf14676316e5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TC_FREQ&#160;&#160;&#160;(uint32_t) (<a class="el" href="group__freq__conf.html#ga43bafb28b29491ec7f871319b5a3b2f8">F_CPU</a>/<a class="el" href="interrupts_2_user_application_8c.html#a1dc7dd0e5176c2e257ebc23f8cb23336">TC_PRESCALER</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>TC frequency. </p>
<p>The frequency of the TC is F_CPU divided by the prescaling factor. </p>

<p>Definition at line <a class="el" href="interrupts_2_user_application_8c_source.html#l00099">99</a> of file <a class="el" href="interrupts_2_user_application_8c_source.html">interrupts/UserApplication.c</a>.</p>

</div>
</div>
<a class="anchor" id="ad017acdd4024b7df5c910211fea5d28f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TC_PER&#160;&#160;&#160;(uint32_t) (<a class="el" href="interrupts_2_user_application_8c.html#af440c8d8b1adf79fbe4ccf14676316e5">TC_FREQ</a> / <a class="el" href="interrupts_2_user_application_8c.html#add15143015a5ec243a818c6b203b47c9">F_TC_INT</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>TC period. </p>
<p>The 16-bit TC will generate an interrupt when the count reaches this value. </p>

<p>Definition at line <a class="el" href="interrupts_2_user_application_8c_source.html#l00104">104</a> of file <a class="el" href="interrupts_2_user_application_8c_source.html">interrupts/UserApplication.c</a>.</p>

<p>Referenced by <a class="el" href="interrupts_2_user_application_8c_source.html#l00208">ISR()</a>, and <a class="el" href="interrupts_2_user_application_8c_source.html#l00165">setup_example_tc_interrupt()</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="afb86b282aa17d38312240df6087819db"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ISR </td>
          <td>(</td>
          <td class="paramtype">SWITCH0_INT0_vect&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Interrupt for SW0 press: change TC period. </p>
<p>This interrupt can be used to test the interrupt monitor. After pressing SW0 the period of the TC is changed, which means that the frequency of the TC interrupt is modified. This should be detected by the interrupt monitor, which should then set the global error flag <a class="el" href="group__error__handler.html#gabd8069526e5340f2e8f831627ec6857c">classb_error</a>. </p>

<p>Definition at line <a class="el" href="interrupts_2_user_application_8c_source.html#l00208">208</a> of file <a class="el" href="interrupts_2_user_application_8c_source.html">interrupts/UserApplication.c</a>.</p>

<p>References <a class="el" href="interrupts_2_user_application_8c_source.html#l00081">PER_CHANGE</a>, and <a class="el" href="interrupts_2_user_application_8c_source.html#l00104">TC_PER</a>.</p>

</div>
</div>
<a class="anchor" id="a50668d92bbd78762e1442c21f5f0a54c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ISR </td>
          <td>(</td>
          <td class="paramtype">SWITCH1_INT0_vect&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Interrupt for SW1 press: disable TC interrupt monitoring. </p>
<p>If the TC interrupt does not need to be monitored anymore the state of the interrupt can be changed to DISABLE. </p>
<dl class="section note"><dt>Note:</dt><dd>This interrupt could be executed more than once because of button bouncing. If <a class="el" href="group__int__mon__conf.html#gabf5212cd83939415b446391967294727">CLASSB_STRICT</a> is defined the monitor would then set <a class="el" href="group__error__handler.html#gabd8069526e5340f2e8f831627ec6857c">classb_error</a>. </dd></dl>

<p>Definition at line <a class="el" href="interrupts_2_user_application_8c_source.html#l00219">219</a> of file <a class="el" href="interrupts_2_user_application_8c_source.html">interrupts/UserApplication.c</a>.</p>

<p>References <a class="el" href="classb__interrupt__monitor_8c_source.html#l00113">classb_intmon_set_state()</a>, <a class="el" href="classb__interrupt__monitor_8h_source.html#l00134">DISABLE</a>, and <a class="el" href="classb__interrupt__monitor_8h_source.html#l00112">MY_INTERRUPT</a>.</p>

<p><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="interrupts_2_user_application_8c_a50668d92bbd78762e1442c21f5f0a54c_cgraph.png" border="0" usemap="#interrupts_2_user_application_8c_a50668d92bbd78762e1442c21f5f0a54c_cgraph" alt=""/></div>
<map name="interrupts_2_user_application_8c_a50668d92bbd78762e1442c21f5f0a54c_cgraph" id="interrupts_2_user_application_8c_a50668d92bbd78762e1442c21f5f0a54c_cgraph">
<area shape="rect" id="node3" href="group__int__mon__func.html#gaa958325fad2a7c0a6d69e0793e6c4864" title="Set a state for the specified interrupt." alt="" coords="97,5,263,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a924e0530acf32dec8097d00b9474b0fc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ISR </td>
          <td>(</td>
          <td class="paramtype">TCD0_OVF_vect&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>TC overflow interrupt. </p>
<p>The interrupt counter is incremented by calling <a class="el" href="group__int__mon__func.html#gaabe0261ef71c47068d7781702ba740e4">classb_intmon_increase()</a>. After that an LED is toggled. </p>

<p>Definition at line <a class="el" href="interrupts_2_user_application_8c_source.html#l00229">229</a> of file <a class="el" href="interrupts_2_user_application_8c_source.html">interrupts/UserApplication.c</a>.</p>

<p>References <a class="el" href="classb__interrupt__monitor_8c_source.html#l00093">classb_intmon_increase()</a>, and <a class="el" href="classb__interrupt__monitor_8h_source.html#l00112">MY_INTERRUPT</a>.</p>

<p><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="interrupts_2_user_application_8c_a924e0530acf32dec8097d00b9474b0fc_cgraph.png" border="0" usemap="#interrupts_2_user_application_8c_a924e0530acf32dec8097d00b9474b0fc_cgraph" alt=""/></div>
<map name="interrupts_2_user_application_8c_a924e0530acf32dec8097d00b9474b0fc_cgraph" id="interrupts_2_user_application_8c_a924e0530acf32dec8097d00b9474b0fc_cgraph">
<area shape="rect" id="node3" href="group__int__mon__func.html#gaabe0261ef71c47068d7781702ba740e4" title="Increases the interrupt counter of the specified interrupt." alt="" coords="96,5,259,32"/></map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d28a4824dc47e487b107a5db32ef43c4.html">examples</a></li><li class="navelem"><a class="el" href="dir_d6e08da4780235f20c545d613da66e8d.html">interrupts</a></li><li class="navelem"><a class="el" href="interrupts_2_user_application_8c.html">UserApplication.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.1 </li>
  </ul>
</div>
</body>
</html>
