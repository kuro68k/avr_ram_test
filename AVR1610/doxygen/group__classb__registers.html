<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Xmega IEC60730 Class B Library: CPU Register test</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="XMEGA-3D-block-diagram.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Xmega IEC60730 Class B Library
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__classb__registers.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Submodules</a>  </div>
  <div class="headertitle">
<div class="title">CPU Register test</div>  </div>
</div><!--header-->
<div class="contents">
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<p>This is the self-test module for the registers in the CPU. </p>
<p>The CPU registers are tested for stuck bits and some coupling faults. The test is executed by calling <a class="el" href="group__reg__func.html#ga0d8d027d1e5dfd2299ef6958df98e77d">classb_register_test()</a>. The test procedure consists of five steps per register:</p>
<ol type="1">
<li>Write 0x55 to register</li>
<li>Write 0xAA to register</li>
<li>Verify content (0xAA) of register</li>
<li>Write 0x55 to register</li>
<li>Verify content (0x55) of register</li>
</ol>
<p>Non-destructive testing is done on the R-registers that are stated to need preservation in the compiler documentation and on all IO registers. Further, this test returns its result using a register. Therefore, the register used to return the value, the stack pointer registers or those used within the test (e.g. to save values) are critical in the sense that the test cannot be executed correctly unless these registers are working.</p>
<p>The error handler for the test is <a class="el" href="group__error__handler.html#ga57faaf78e152ce9baf1d6ddbb6d99077">CLASSB_ERROR_HANDLER_REGISTERS()</a>. It is possible to configure independently the behavior of the test with respect to failure in critical and non-critical registers (see <a class="el" href="group__settings__cpu.html#ga0d1d2e46ea24c76126cbc595388b7c9c">CLASSB_ERROR_CRIT</a> and <a class="el" href="group__settings__cpu.html#ga68b2ab89a0552909226c7de066fdead1">CLASSB_ERROR_NON_CRIT</a>).</p>
<p>Given that GCC and IAR make use of the CPU registers in a different manner, we have included a compiler-specific function. This reduces execution time and simplifies the code.</p>
<dl class="section note"><dt>Note:</dt><dd>Interrupts must be disabled during this test. </dd></dl>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="groups"></a>
Submodules</h2></td></tr>
<tr class="memitem:group__settings__cpu"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__settings__cpu.html">Settings related to error handling</a></td></tr>
<tr class="memdesc:group__settings__cpu"><td class="mdescLeft">&#160;</td><td class="mdescRight">In principle, any error in critical registers would mean that the system cannot verify whether the registers are working correctly. Since registers are vital to most applications, the microcontroller should probably hang. However, this behavior can be modified so that failure in critical registers is handled by <a class="el" href="group__error__handler.html#ga57faaf78e152ce9baf1d6ddbb6d99077">CLASSB_ERROR_HANDLER_REGISTERS()</a>. The behavior for failure in non-critical registers can also be configured: the microcontroller can call the error handler or hang. <br/></td></tr>
<tr class="memitem:group__reg__func"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__reg__func.html">Functions</a></td></tr>
<tr class="memdesc:group__reg__func"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the self-test for CPU registers. <br/></td></tr>
</table>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.1 </li>
  </ul>
</div>
</body>
</html>
